import{j as t}from"./jsx-runtime-CkxqCPlQ.js";import{r as o}from"./index-DJO9vBfz.js";import{n as h}from"./redux-toolkit.modern-DEr0YuQG.js";import{c as g}from"./clsx-B-dksMZM.js";import{V as f,S as y}from"./context-BMSX6GvA.js";import{P as C}from"./PopoverInput-HR7DVBVf.js";import{T as N}from"./Token-CqBJNtCq.js";import{m as l}from"./proxy-efew5eJf.js";import{A as v}from"./index-B8aIlgge.js";const j=o.forwardRef((w,A)=>{const{id:d,variant:e,size:n,highlighted:p,editable:m,forceInput:B,onInput:i,children:s}={variant:o.useContext(f),size:o.useContext(y),...w},[a,c]=o.useState(B||!1),[x,u]=o.useState(""),I=()=>{i==null||i(d,h(4),Number(x)),c(!1)};return t.jsx(f.Provider,{value:e,children:t.jsxs("div",{className:"relative",id:d,ref:A,children:[t.jsx(l.div,{className:g("cursor-pointer shadow-[0px_1px_0px_0px_#BDB1A6_inset] transition",e==="operand"&&"rounded-lg",e==="sign"&&"rounded-full",n==="default"?"h-[38px] min-w-[38px]":"h-[26px] min-w-[26px]",n==="default"&&e==="operand"&&"w-[59px]",n==="small"&&e==="operand"&&"w-[37px]",a||p?"bg-[#BBAD9F] shadow-[#A7988A]":"bg-[#D0C5BB]",p&&"outline outline-2 outline-[#7C7065]",m&&"hover:bg-[#BBAD9F] hover:shadow-[#A7988A]",(s||a)&&"w-auto"),onClick:()=>m&&c(!0),children:t.jsx(v,{children:(a||s)&&t.jsx(l.div,{exit:{zIndex:999,opacity:0,y:"100vh",rotate:(Math.random()*30+60)*(Math.random()<.5?1:-1),position:"fixed",transition:{delay:Math.random()*.3,duration:1,ease:"easeIn"}},children:a?t.jsx(N,{id:h(4),variant:"operand",className:"flex-1",children:x}):s})})}),t.jsx(v,{children:a&&t.jsx(l.div,{initial:{opacity:0,translateX:-300,translateY:"5%"},animate:{opacity:1,translateX:-300,translateY:0},exit:{opacity:0,translateY:"5%"},className:"absolute left-0 top-full z-10 mt-[27px]",children:t.jsx(C,{onInput:r=>u(S=>S+r),onBackspace:()=>u(r=>r.slice(0,-1)),onFinish:I})})})]})})});j.displayName="Slot";j.__docgenInfo={description:"",methods:[],displayName:"Slot"};export{j as S};
