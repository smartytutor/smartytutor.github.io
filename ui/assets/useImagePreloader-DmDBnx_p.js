import{r as s}from"./index-DRjF_FHU.js";function d(e){const a=new Set;return Object.values(e).forEach(r=>{if(r.type==="comics"&&r.slides&&r.slides.forEach(o=>{o.image&&a.add(o.image)}),r.type==="sticker"&&r.url&&a.add(r.url),r.type==="showMeme"&&r.url&&a.add(r.url),r.type==="attachInteractive"&&r.props){const o=r.props;typeof o.backgroundImage=="string"&&a.add(o.backgroundImage)}}),Array.from(a)}function u(e=[],a=!0){const r=s.useRef([]);s.useEffect(()=>{if(!a||e.length===0)return;const o=e.map(t=>{const c=document.createElement("link");return c.rel="preload",c.as="image",c.href=t,c}),n=document.head;return o.forEach(t=>{n.appendChild(t)}),r.current=o,console.log(`ðŸ–¼ï¸ Preloading ${e.length} images:`,e),()=>{r.current.forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)}),r.current=[]}},[e,a])}function f(e={},a=!0){const r=Object.values(e);u(r,a)}function l(e=null,a=!0){const r=e?d(e):[];u(r,a)}export{l as a,f as u};
