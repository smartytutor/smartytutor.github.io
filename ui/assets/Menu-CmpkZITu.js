import{j as s}from"./jsx-runtime-DiklIkkE.js";import{B as u}from"./Button-BGi-_Oof.js";import{I as d}from"./Icon-C_N4S_ZJ.js";const l="smartytutor.ai",o="preferredBrand",f=["ru","kz"],i=new Set(f);function c(t){const e=t.split(".");if(e.length<3||e.slice(-2).join(".")!==l)return null;const n=e[e.length-3];return i.has(n)?n:null}function h(){try{const e=new URLSearchParams(window.location.search).get("brand");if(e&&i.has(e))return e}catch{}return null}function w(){const t=h();if(t)return window.sessionStorage.setItem(o,t),t;const e=window.sessionStorage.getItem(o);if(e&&i.has(e))return e;try{if(document.referrer){const n=new URL(document.referrer).hostname,a=c(n);if(a)return window.sessionStorage.setItem(o,a),a}}catch{}const r=c(window.location.hostname);return r?(window.sessionStorage.setItem(o,r),r):(window.sessionStorage.setItem(o,"ru"),"ru")}function p(){const t=window.sessionStorage.getItem(o);return t&&i.has(t)?t:w()}function g(t="/"){const e=p(),r=t.startsWith("/")?t:`/${t}`;return`https://${e}.${l}${r}`}function x(t="/"){window.location.href=g(t)}const m=({url:t,text:e})=>{const r=async()=>{var n;try{if(navigator.share){await navigator.share({title:"SmartyTutor Demo",url:t});return}if((n=navigator.clipboard)!=null&&n.writeText){await navigator.clipboard.writeText(t),alert("Ссылка скопирована в буфер обмена");return}alert(t)}catch(a){console.warn("Share failed",a)}};return s.jsxs(u,{variant:"menu",onClick:r,children:[s.jsx(d,{name:"book",size:20}),e]})};m.__docgenInfo={description:"",methods:[],displayName:"ShareButton",props:{url:{required:!0,tsType:{name:"string"},description:""},text:{required:!0,tsType:{name:"string"},description:""}}};const S=()=>{const t=()=>{var r;if(!!((r=window.env)!=null&&r.isElectron)){window.close();return}x("/")};return s.jsxs("div",{className:"flex gap-x-1 px-1 pb-2 pt-1",children:[s.jsxs(u,{variant:"menu",onClick:t,children:[s.jsx(d,{name:"exit",size:20}),"Выйти"]}),s.jsx(m,{url:"https://ru.smartytutor.ai?utm_source=share_link",text:"Поделиться ссылкой"})]})};S.__docgenInfo={description:"",methods:[],displayName:"Menu"};export{S as M,m as S};
